<div class="cell-display-face">
    <div><p></p></div>
</div>

<style>
    .cell-display-face p {
        font-size: 5vw;
        margin: 0;
        padding: 0;
    }
</style>

<script>
    const faces = {
        sleep: ['₍ᐢ. .ᐢ₎', '"(っ- ‸ - ς)ᶻ 𝗓 𐰁', '/ᐠ - ˕ -マᶻ 𝗓 𐰁', 'ᶻ 𝗓 𐰁', 'ᓚ₍^- .-^₎'],
        light: [
            '>⩊<', '(ﾉ◕ヮ◕)ﾉ✧', '₍^. .^₎⟆', '＼(＾O＾)／', '\( ﾟヮﾟ)/', '(˶ᵔ ᵕ ᵔ˶)',
            '( ´◔ ω◔`) ノシ', '(づ｡◕‿‿◕｡)づ', '(っᵔ◡ᵔ)っ', '⸜(｡˃ ᵕ ˂ )⸝♡', '( ˶ˆᗜˆ˵ )'
        ],
        medium: [
            '(ㆆ_ㆆ)', '(≖_≖ )', '(ᵕ—ᴗ—)', '\_ (ᵕ—ᴗ—)_/¯', '(-_-)', 'ᗜ⩊ᗜ', '(⊙＿⊙\')'
        ],
        high: [
            '(つ╥﹏╥)つ', '(๑﹏๑//)', '(˶˃⤙˂˶)', '(╯\'□\')╯', '(×_×)', '(ó﹏ò｡)', '(⊙＿⊙\')'
        ]
    }

    const face_swap_interval = 30 * 1000
    const face_terminal = document.querySelector('.cell-display-face p')

    const apply_face = () => {
        // Choose a face randomly, with consideration for RAM load and time
        // Warning: RAM module must be running for this to work

        let time = new Date().getHours()
        let load = document.querySelector('.cell-stat-ram span').innerHTML.replace('%', '')

        let batch = faces.sleep
        if      (load > 70) batch = faces.high
        else if (load > 55) batch = faces.medium
        else if (load > 15) batch = faces.light
        if (load < 65 && (time >= 22 || time < 7)) batch = faces.sleep

        // Select random face from that batch
        face_terminal.innerHTML = batch[Math.floor(Math.random() * batch.length)]
    }

    apply_face()
    setInterval(apply_face, face_swap_interval)
</script>