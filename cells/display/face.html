<div class="cell-display-face">
    <div><p></p></div>
</div>

<style>
    .cell-display-face p {
        font-size: 5vw;
        margin: 0;
        padding: 0;
    }
</style>

<script>
    const faces = {
        sleep: ['â‚á¢. .á¢â‚Ž', '"(ã£- â€¸ - Ï‚)á¶» ð—“ ð°', '/á  - Ë• -ãƒžá¶» ð—“ ð°', 'á¶» ð—“ ð°', 'á“šâ‚^- .-^â‚Ž'],
        light: [
            '>â©Š<', '(ï¾‰â—•ãƒ®â—•)ï¾‰âœ§', 'â‚^. .^â‚ŽâŸ†', 'ï¼¼(ï¼¾Oï¼¾)ï¼', '\( ï¾Ÿãƒ®ï¾Ÿ)/', '(Ë¶áµ” áµ• áµ”Ë¶)',
            '( Â´â—” Ï‰â—”`) ãƒŽã‚·', '(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥', '(ã£áµ”â—¡áµ”)ã£', 'â¸œ(ï½¡Ëƒ áµ• Ë‚ )â¸â™¡', '( Ë¶Ë†á—œË†Ëµ )'
        ],
        medium: [
            '(ã††_ã††)', '(â‰–_â‰– )', '(áµ•â€”á´—â€”)', '\_ (áµ•â€”á´—â€”)_/Â¯', '(-_-)', 'á—œâ©Šá—œ', '(âŠ™ï¼¿âŠ™\')'
        ],
        high: [
            '(ã¤â•¥ï¹â•¥)ã¤', '(à¹‘ï¹à¹‘//)', '(Ë¶Ëƒâ¤™Ë‚Ë¶)', '(â•¯\'â–¡\')â•¯', '(Ã—_Ã—)', '(Ã³ï¹Ã²ï½¡)', '(âŠ™ï¼¿âŠ™\')'
        ]
    }

    const face_swap_interval = 30 * 1000
    const face_terminal = document.querySelector('.cell-display-face p')

    const apply_face = () => {
        // Choose a face randomly, with consideration for RAM load and time
        // Warning: RAM module must be running for this to work

        let time = new Date().getHours()
        let load = document.querySelector('.cell-stat-ram span').innerHTML.replace('%', '')

        let batch = faces.sleep
        if      (load > 70) batch = faces.high
        else if (load > 55) batch = faces.medium
        else if (load > 15) batch = faces.light
        if (load < 65 && (time >= 22 || time < 7)) batch = faces.sleep

        // Select random face from that batch
        face_terminal.innerHTML = batch[Math.floor(Math.random() * batch.length)]
    }

    apply_face()
    setInterval(apply_face, face_swap_interval)
</script>